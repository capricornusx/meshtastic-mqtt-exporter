# Структура тестов

Тесты организованы по типам для лучшей читаемости и управления:

## Структура папок

```
tests/
├── e2e/          # End-to-End тесты
├── integration/  # Интеграционные тесты  
├── unit/         # Unit тесты высокого уровня
└── README.md     # Этот файл
```

## Unit тесты (pkg/*)

Находятся рядом с исходным кодом в соответствующих пакетах:
- `pkg/application/*_test.go` - тесты бизнес-логики
- `pkg/infrastructure/*_test.go` - тесты инфраструктуры
- `pkg/domain/*_test.go` - тесты доменных моделей
- и т.д.

## Интеграционные тесты (tests/integration/)

Тестируют взаимодействие между компонентами:
- Тесты HTTP API
- Тесты MQTT клиента
- Тесты AlertManager интеграции

## E2E тесты (tests/e2e/)

Полные сценарии работы системы:
- MQTT → Prometheus метрики
- AlertManager → LoRa сеть
- Состояние между перезапусками

## Запуск тестов

```bash
# Все тесты
make test

# Только unit тесты
go test ./pkg/...

# Только быстрые тесты (без интеграционных)
go test -short ./...

# E2E тесты
go test ./tests/e2e/...

# Интеграционные тесты
go test ./tests/integration/...
```
